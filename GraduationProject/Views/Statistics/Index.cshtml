
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/Scripts/highcharts.js"></script>
<script src="~/Scripts/modules/exporting.js"></script>
<style>
    .filter-box {
    display: none;
    margin-bottom: 10px;
}
.filter-option {
    background-color: white;
    border: 1px solid #364150;
    box-shadow: 0 1px 5px #ccc;
    padding: 10px 10px 0;
}
</style>

<h2>
    统计分析<span id="ErrMsg" class="text-danger main-error"></span>
</h2>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="filter-option filter-box" id="edit-box" style="display:block">
            <div class="form-horizontal">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12" id="Year">
                        <div class="form-group">
                            <label class="col-sm-4 control-label" for="To">高校</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control " id="YearBySearch" name="YearBySearch" readonly="readonly" onchange="searchFilter()"  />
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">新闻分类</label>
                            <div class="col-sm-8">
                                <select id="problemtype" name="problemtype" class="form-control ">
                                    <option value="">请选择新闻分类</option>
                                    <option value="Enquiry">综合新闻</option>
                                    <option value="Bug">校内要闻</option>
                                    <option value="Improvement">最新资讯</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">图表类型</label>
                            <div class="col-sm-8">
                                <select id="problemtype" name="problemtype" class="form-control ">
                                    <option value="">请选择图表类型</option>
                                    <option value="Enquiry">柱形图</option>
                                    <option value="Bug">折线图</option>
                                    <option value="Improvement">饼图</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="col-sm-4 control-label">统计周期</label>
                            <div class="col-sm-8">
                                <select id="problemtype" name="problemtype" class="form-control ">
                                    <option value="">请选择统计周期</option>
                                    <option value="">每个月</option>
                                    <option value="Enquiry">每周周</option>
                                    <option value="Bug">每天</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12 pull-right">
                        <div class="form-group">
                            <div class="col-sm-12">
                                <div class="pull-right">
                                    <a href="#" class="btn btn-black" onclick="clearC()">清空</a>
                                    <a href="#" class="btn btn-black" onclick="getChart()">统计</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="container" style="min-width:400px;height:400px">

        </div>
        <div id="LogData">
        </div>
    </div>
</div>

<script>
    /**
* Highcharts 在 4.2.0 开始已经不依赖 jQuery 了，直接用其构造函数既可创建图表
**/
    function getChart() {

        var chart = new Highcharts.Chart('container', {
            title: {
                text: '不同城市的月平均气温',
                x: -20
            },
            subtitle: {
                text: '数据来源: WorldClimate.com',
                x: -20
            },
            xAxis: {
                categories: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']
            },
            yAxis: {
                title: {
                    text: '温度 (°C)'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '°C'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: '东京',
                data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
            }, {
                name: '纽约',
                data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
            }, {
                name: '柏林',
                data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
            }, {
                name: '伦敦',
                data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
            }]
        });
    }

</script>